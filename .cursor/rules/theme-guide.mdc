# EchoLab å¼€å‘æŒ‡å— - ä¸»é¢˜ç³»ç»Ÿæœ€ä½³å®è·µ

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®é‡‡ç”¨ Ant Design 5.x çš„ CSS å˜é‡æ¨¡å¼ï¼Œç»“åˆè‹¹æœè®¾è®¡ç¾å­¦ï¼Œæ„å»ºäº†ç»Ÿä¸€çš„ä¸»é¢˜ç®¡ç†ç³»ç»Ÿã€‚

## ğŸ¨ ä¸»é¢˜æ¶æ„

### æ–‡ä»¶ç»“æ„

```
src/renderer/src/
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ theme.ts          # ä¸»é¢˜é…ç½®æ–‡ä»¶
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useTheme.ts       # ä¸»é¢˜ Hook
â””â”€â”€ App.tsx              # ConfigProvider é…ç½®
```

## ğŸ”§ æ ¸å¿ƒé…ç½®

### 1. ä¸»é¢˜é…ç½® (`src/styles/theme.ts`)

**ä¸»è¦ç‰¹æ€§ï¼š**

- å¯ç”¨ CSS å˜é‡æ¨¡å¼ (`cssVar: true`)
- å…³é—­ hash ä»¥å‡å°æ ·å¼ä½“ç§¯ (`hashed: false`)
- è‹¹æœè®¾è®¡é£æ ¼çš„ token é…ç½®
- æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢

**æ ¸å¿ƒ Tokenï¼š**

```typescript
// è‹¹æœè®¾è®¡è‰²å½©
colorPrimary: '#007AFF'     // è‹¹æœè“
colorSuccess: '#34C759'     // è‹¹æœç»¿
colorWarning: '#FF9500'     // è‹¹æœæ©™
colorError: '#FF3B30'       // è‹¹æœçº¢

// è‹¹æœå­—ä½“ç³»ç»Ÿ
fontFamily: '-apple-system, BlinkMacSystemFont, ...'

// ç»Ÿä¸€çš„åœ†è§’å’Œé—´è·
borderRadius: 8
borderRadiusLG: 12
padding/margin: ç»Ÿä¸€çš„é—´è·ç³»ç»Ÿ
```

### 2. è‡ªå®šä¹‰ä¸»é¢˜ Hook (`src/hooks/useTheme.ts`)

**æä¾›çš„åŠŸèƒ½ï¼š**

- `token`: åŸå§‹ Ant Design token
- `styles`: é¢„å®šä¹‰çš„æ ·å¼ç»„åˆ
- `utils`: å·¥å…·å‡½æ•°é›†åˆ

**é¢„å®šä¹‰æ ·å¼ï¼š**

- `pageContainer`: é¡µé¢å®¹å™¨æ ·å¼
- `cardContainer`: å¡ç‰‡å®¹å™¨æ ·å¼
- `glassEffect`: æ¯›ç»ç’ƒæ•ˆæœ
- `gradientText`: æ¸å˜æ–‡å­—
- `primaryButton`: ä¸»è¦æŒ‰é’®æ ·å¼

## ğŸ“ ä½¿ç”¨è§„èŒƒ

### âœ… æ¨èåšæ³•

1. **ä½¿ç”¨ç»Ÿä¸€çš„ä¸»é¢˜ Hook**

```typescript
import { useTheme } from '@renderer/hooks/useTheme'

const { token, styles, utils } = useTheme()

// ä½¿ç”¨é¢„å®šä¹‰æ ·å¼
<div style={styles.pageContainer}>
  <Button style={styles.primaryButton}>æŒ‰é’®</Button>
</div>
```

2. **åˆ©ç”¨é¢„å®šä¹‰æ ·å¼ç»„åˆ**

```typescript
// æ›¿ä»£å¤§é‡å†…è”æ ·å¼
<Card style={styles.cardContainer}>
  <Title style={styles.pageTitle}>æ ‡é¢˜</Title>
</Card>
```

3. **ä½¿ç”¨å·¥å…·å‡½æ•°**

```typescript
// é¢œè‰²å¤„ç†
background: utils.generatePosterBackground(fileName)

// æ—¶é—´æ ¼å¼åŒ–
{
  utils.formatTimeAgo(timestamp)
}
```

### âŒ é¿å…çš„åšæ³•

1. **ç›´æ¥ä½¿ç”¨ theme.useToken()**

```typescript
// âŒ ä¸æ¨è
const { token } = theme.useToken()

// âœ… æ¨è
const { token } = useTheme()
```

2. **ç¡¬ç¼–ç æ ·å¼å€¼**

```typescript
// âŒ ä¸æ¨è
padding: '24px'
color: '#007AFF'

// âœ… æ¨è
padding: token.paddingLG
color: token.colorPrimary
```

3. **é‡å¤å®šä¹‰ç›¸åŒçš„æ ·å¼ç»„åˆ**

```typescript
// âŒ ä¸æ¨è - åœ¨æ¯ä¸ªç»„ä»¶ä¸­é‡å¤å®šä¹‰
const cardStyle = {
  borderRadius: token.borderRadiusLG,
  border: `1px solid ${token.colorBorderSecondary}`,
  // ...
}

// âœ… æ¨è - ä½¿ç”¨é¢„å®šä¹‰æ ·å¼
<Card style={styles.cardContainer} />
```

## ğŸ¯ è®¾è®¡åŸåˆ™

### 1. è‹¹æœè®¾è®¡ç¾å­¦

- **ç®€æ´æ€§**: å¹²å‡€ã€æ˜ç¡®çš„è§†è§‰å±‚æ¬¡
- **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„é—´è·ã€åœ†è§’ã€è‰²å½©ç³»ç»Ÿ
- **ä¼˜é›…**: å¾®å¦™çš„åŠ¨ç”»å’Œæ¸å˜æ•ˆæœ

### 2. é«˜æ–¯æ¨¡ç³Šæ•ˆæœ

```typescript
// æ¯›ç»ç’ƒæ•ˆæœçš„æ ‡å‡†å®ç°
glassEffect: {
  backdropFilter: 'blur(20px) saturate(180%)',
  WebkitBackdropFilter: 'blur(20px) saturate(180%)',
}
```

### 3. åŠ¨ç”»å’Œè¿‡æ¸¡

- ä½¿ç”¨è‹¹æœæ ‡å‡†çš„ç¼“åŠ¨å‡½æ•°: `cubic-bezier(0.4, 0, 0.2, 1)`
- é€‚åº¦çš„åŠ¨ç”»æ—¶é•¿: `0.2s - 0.3s`
- å¹³æ»‘çš„æ‚¬åœæ•ˆæœ

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### 1. CSS å˜é‡çš„ä¼˜åŠ¿

- åŒä¸€ç»„ä»¶åœ¨ä¸åŒä¸»é¢˜ä¸‹æ ·å¼å¯å…±äº«
- ä¸»é¢˜åˆ‡æ¢æ— éœ€é‡æ–°åºåˆ—åŒ–æ ·å¼
- å‡å°‘äº†æ ·å¼ä½“ç§¯

### 2. æ¨èçš„ä¼˜åŒ–ç­–ç•¥

```typescript
// åœ¨ ConfigProvider ä¸­å¯ç”¨
<ConfigProvider theme={appleTheme}>
  <App />
</ConfigProvider>
```

## ğŸ”„ ä¸»é¢˜æ‰©å±•

### æ·»åŠ æ–°çš„é¢„å®šä¹‰æ ·å¼

1. åœ¨ `useTheme.ts` çš„ `styles` å¯¹è±¡ä¸­æ·»åŠ 
2. ç¡®ä¿ä½¿ç”¨ token è€Œéç¡¬ç¼–ç å€¼
3. æä¾›æ¸…æ™°çš„å‘½åå’Œæ³¨é‡Š

### æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°

1. åœ¨ `useTheme.ts` çš„ `utils` å¯¹è±¡ä¸­æ·»åŠ 
2. ç¡®ä¿å‡½æ•°çš„å¯å¤ç”¨æ€§
3. ç¼–å†™ç±»å‹å®šä¹‰

## ğŸ“š å‚è€ƒèµ„æº

- [Ant Design CSS å˜é‡æ–‡æ¡£](https://ant.design/docs/react/css-variables-cn)
- [ä» Less å˜é‡åˆ° Design Token](https://ant.design/docs/react/migrate-less-variables-cn)
- [è‹¹æœäººæœºç•Œé¢æŒ‡å—](https://developer.apple.com/design/human-interface-guidelines/)

## ğŸ” è°ƒè¯•å’Œå¼€å‘

### ä¸»é¢˜è°ƒè¯•æŠ€å·§

1. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹ CSS å˜é‡
2. åˆ©ç”¨ React DevTools æ£€æŸ¥ token å€¼
3. åœ¨ Console ä¸­éªŒè¯ utils å‡½æ•°

### å¸¸è§é—®é¢˜

1. **ç±»å‹é”™è¯¯**: ç¡®ä¿æ­£ç¡®å¯¼å…¥ ThemeConfig ç±»å‹
2. **æ ·å¼ä¸ç”Ÿæ•ˆ**: æ£€æŸ¥ ConfigProvider æ˜¯å¦æ­£ç¡®é…ç½®
3. **æ€§èƒ½é—®é¢˜**: é¿å…åœ¨æ¸²æŸ“å‡½æ•°ä¸­åˆ›å»ºæ–°çš„æ ·å¼å¯¹è±¡

---

_æœ¬æŒ‡å—å°†éšç€é¡¹ç›®çš„å‘å±•æŒç»­æ›´æ–°ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜éµå¾ªæœ€ä½³å®è·µã€‚_
